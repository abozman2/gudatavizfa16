# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE, include=TRUE)
library(dplyr)
library(tidyr)
library(ggplot2)
library(magrittr)
City_Buildings <- tallestbuildings %>%
group_by(City) %>%
summarise(Building_count = n()) %>%
arrange(desc(Building_count))
tallestbuildings=read.csv("tallestbuildings.csv")
City_Buildings <- tallestbuildings %>%
group_by(City) %>%
summarise(Building_count = n()) %>%
arrange(desc(Building_count))
View(City_Buildings)
City_Buildings <- tallestbuildings %>%
group_by(City) %>%
summarise(Building_count = n()) %>%
arrange(desc(Building_count))
tallestbuildings$Height..ft. = as.character(tallestbuildings$Height..ft.)
tallestbuildings$Height..ft. = as.numeric(gsub(",","",tallestbuildings$Height..ft.))
City_Mean <- tallestbuildings %>%
separate(City,c("City","Country"), sep = "?") %>%
group_by(City) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height))
City_Mean %>% ggplot(aes(x=reorder(City,desc(-avg_height)),y=avg_height)) + geom_bar(stat="identity") + coord_flip() + labs(x="City",y="Average Height")
library(countrycode)
Country_Buildings = tallestbuildings %>% separate(City,c("City","Country"), sep = "?")
Country_Buildings$Country = gsub("\\(","",Country_Buildings$Country)
Country_Buildings$Country = gsub("\\)","",Country_Buildings$Country)
Country_Buildings$Countryname=countrycode(Country_Buildings$Country,"iso2c","country.name")
Country_Buildings %>%
group_by(Countryname) %>%
summarise(Building_Count = n()) %>%
arrange(desc(Building_Count)) %>%
ggplot(aes(x=reorder(Countryname,desc(-Building_Count)),y=Building_Count)) + geom_bar(stat="identity") + coord_flip() + labs(x="Country",y="Building Count")
install.packages("countrycode")
install.packages("countrycode")
tallestbuildings$Height..ft. = as.character(tallestbuildings$Height..ft.)
tallestbuildings$Height..ft. = as.numeric(gsub(",","",tallestbuildings$Height..ft.))
City_Mean <- tallestbuildings %>%
separate(City,c("City","Country"), sep = "?") %>%
group_by(City) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height))
City_Mean %>% ggplot(aes(x=reorder(City,desc(-avg_height)),y=avg_height)) + geom_bar(stat="identity") + coord_flip() + labs(x="City",y="Average Height")
library(countrycode)
Country_Buildings = tallestbuildings %>% separate(City,c("City","Country"), sep = "?")
Country_Buildings$Country = gsub("\\(","",Country_Buildings$Country)
Country_Buildings$Country = gsub("\\)","",Country_Buildings$Country)
Country_Buildings$Countryname=countrycode(Country_Buildings$Country,"iso2c","country.name")
Country_Buildings %>%
group_by(Countryname) %>%
summarise(Building_Count = n()) %>%
arrange(desc(Building_Count)) %>%
ggplot(aes(x=reorder(Countryname,desc(-Building_Count)),y=Building_Count)) + geom_bar(stat="identity") + coord_flip() + labs(x="Country",y="Building Count")
Building_usage = tallestbuildings %>%
separate(Use,c("Use","Use2","Use3"), sep = " / ")
Building_usage$Height..ft. = as.character(Building_usage$Height..ft.)
Building_usage$Height..ft. = as.numeric(gsub(",","",Building_usage$Height..ft.))
Building_usage = Building_usage %>%
gather(Use_Number,value=Use,Use2,Use3,9:10,na.rm=TRUE)
Building_usage %>%
group_by(Use) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height))
library(dplyr)
library(tidyr)
library(ggplot2)
library(magrittr)
Building_usage = tallestbuildings %>%
separate(Use,c("Use","Use2","Use3"), sep = " / ")
Building_usage$Height..ft. = as.character(Building_usage$Height..ft.)
Building_usage$Height..ft. = as.numeric(gsub(",","",Building_usage$Height..ft.))
Building_usage = Building_usage %>%
gather(Use_Number,value=Use,Use2,Use3,9:10,na.rm=TRUE)
Building_usage %>%
group_by(Use) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height))
View(Building_usage)
Country_mean %>%
group_by(Countryname) %>%
summarise(avg_height = mean(Height..ft.)) %>%
ggplot(aes(x=reorder(Countryname,desc(-avg_height)),y=avg_height, fill=Countryname)) + geom_bar(stat="identity") + coord_flip() + labs(x="Country",y="Average Height") + scale_fill_discrete(name="Country")
tallestbuildings$Height..ft. = as.character(tallestbuildings$Height..ft.)
tallestbuildings$Height..ft. = as.numeric(gsub(",","",tallestbuildings$Height..ft.))
City_Mean <- tallestbuildings %>%
separate(City,c("City","Country"), sep = "?") %>%
group_by(City) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height))
City_Mean %>% ggplot(aes(x=reorder(City,desc(-avg_height)),y=avg_height)) + geom_bar(stat="identity") + coord_flip() + labs(x="City",y="Average Height")
City_Buildings <- tallestbuildings %>%
group_by(City) %>%
summarise(Building_count = n()) %>%
arrange(desc(Building_count))
tallestbuildings$Height..ft. = as.character(tallestbuildings$Height..ft.)
tallestbuildings$Height..ft. = as.numeric(gsub(",","",tallestbuildings$Height..ft.))
City_Mean <- tallestbuildings %>%
separate(City,c("City","Country"), sep = "?") %>%
group_by(City) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height))
City_Mean %>% ggplot(aes(x=reorder(City,desc(-avg_height)),y=avg_height)) + geom_bar(stat="identity") + coord_flip() + labs(x="City",y="Average Height")
library(countrycode)
Country_Buildings = tallestbuildings %>% separate(City,c("City","Country"), sep = "?")
Country_Buildings$Country = gsub("\\(","",Country_Buildings$Country)
Country_Buildings$Country = gsub("\\)","",Country_Buildings$Country)
Country_Buildings$Countryname=countrycode(Country_Buildings$Country,"iso2c","country.name")
Country_Buildings %>%
group_by(Countryname) %>%
summarise(Building_Count = n()) %>%
arrange(desc(Building_Count)) %>%
ggplot(aes(x=reorder(Countryname,desc(-Building_Count)),y=Building_Count)) + geom_bar(stat="identity") + coord_flip() + labs(x="Country",y="Building Count")
Country_mean <- tallestbuildings %>% separate(City,c("City","Country"), sep = "?")
Country_mean$Country = gsub("\\(","",Country_mean$Country)
Country_mean$Country = gsub("\\)","",Country_mean$Country)
Country_mean$Countryname=countrycode(Country_mean$Country,"iso2c","country.name")
Country_mean$Height..ft. = as.character(Country_mean$Height..ft.)
Country_mean$Height..ft. = as.numeric(gsub(",","",Country_mean$Height..ft.))
Country_mean %>%
group_by(Countryname) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height)) %>%
ggplot(aes(x=reorder(Countryname,desc(-avg_height)),y=avg_height)) + geom_bar(stat="identity") + coord_flip() + labs(x="Country",y="Average Height")
Country_mean %>%
group_by(Countryname) %>%
summarise(avg_height = mean(Height..ft.)) %>%
ggplot(aes(x=reorder(Countryname,desc(-avg_height)),y=avg_height, fill=Countryname)) + geom_bar(stat="identity") + coord_flip() + labs(x="Country",y="Average Height") + scale_fill_discrete(name="Country")
library(dplyr)
library(tidyr)
library(ggplot2)
library(magrittr)
library(knitr)
tallestbuildings=read.csv("tallestbuildings.csv")
City_Buildings <- tallestbuildings %>%
group_by(City) %>%
summarise(Building_count = n()) %>%
arrange(desc(Building_count))
tallestbuildings$Height..ft. = as.character(tallestbuildings$Height..ft.)
tallestbuildings$Height..ft. = as.numeric(gsub(",","",tallestbuildings$Height..ft.))
City_Mean <- tallestbuildings %>%
separate(City,c("City","Country"), sep = "?") %>%
group_by(City) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height))
City_Mean %>% ggplot(aes(x=reorder(City,desc(-avg_height)),y=avg_height)) + geom_bar(stat="identity") + coord_flip() + labs(x="City",y="Average Height")
library(countrycode)
Country_Buildings = tallestbuildings %>% separate(City,c("City","Country"), sep = "?")
Country_Buildings$Country = gsub("\\(","",Country_Buildings$Country)
Country_Buildings$Country = gsub("\\)","",Country_Buildings$Country)
Country_Buildings$Countryname=countrycode(Country_Buildings$Country,"iso2c","country.name")
Country_Buildings %>%
group_by(Countryname) %>%
summarise(Building_Count = n()) %>%
arrange(desc(Building_Count)) %>%
ggplot(aes(x=reorder(Countryname,desc(-Building_Count)),y=Building_Count)) + geom_bar(stat="identity") + coord_flip() + labs(x="Country",y="Building Count")
library(knitr)
tallestbuildings$Height..ft. = as.character(tallestbuildings$Height..ft.)
tallestbuildings$Height..ft. = as.numeric(gsub(",","",tallestbuildings$Height..ft.))
City_Mean <- tallestbuildings %>%
separate(City,c("City","Country"), sep = "?") %>%
group_by(City) %>%
summarise(avg_height = mean(Height..ft.)) %>%
arrange(desc(avg_height))
City_Mean %>% ggplot(aes(x=reorder(City,desc(-avg_height)),y=avg_height)) + geom_bar(stat="identity") + coord_flip() + labs(x="City",y="Average Height")
Country_mean %>%
group_by(Countryname) %>%
summarise(avg_height = mean(Height..ft.)) %>%
ggplot(aes(x=reorder(Countryname,desc(-avg_height)),y=avg_height, fill=Countryname)) + geom_bar(stat="identity") + coord_flip() + labs(x="Country",y="Average Height") + scale_fill_discrete(name="Country")
tallestbuildings$Height..ft. = as.character(tallestbuildings$Height..ft.)
GenWork=EdGenderWork
GenWork=library("EdGenderWork")
EdGenderWork %>% select(24, 29, 31, 47:52, 64:118, 138:142, 148:152)
library("magrittr", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library("dplyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library("tidyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
EdGenderWork %>% select(24, 29, 31, 47:52, 64:118, 138:142, 148:152)
load(EdGenderWork)
setwd("~/Desktop/gudatavizfa16")
load()
load(EdGenderWork)
load("EdGenderWork.Rda")
setwd("~/Desktop/gudatavizfa16")
load("EdGenderWork.Rda")
setwd("~/Desktop/gudatavizfa16/Project_1_fa16")
load("EdGenderWork.Rda")
EdGenderWork %>% select(24, 29, 31, 47:52, 64:118, 138:142, 148:152)
load("EdGenderWork.Rda")
EdGenderWork %>% select(24, 29, 31, 47:52, 64:118, 138:142, 148:152)
